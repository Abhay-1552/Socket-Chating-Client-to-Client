<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Sock-Talk</title>
    <link rel="icon" type="image/x-icon" href="../static/images/discount-tag.ico">

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

    <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>
    <div class="container animate__animated animate__fadeIn">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <h2 class="text-center mb-4">SOCKET CHATTING</h2>
                <form id="messageForm" method="post" action="{{ url_for('message') }}" onsubmit="mesasge()">
                    <div class="form-group">
                        <input type="text" class="form-control" id="messageInput" name="messageInput"
                            placeholder="Enter your message" required>
                    </div>
                    <div class="text-center"> <!-- Center aligning div -->
                        <button type="submit" class="btn btn-success" style="width: 100px;">SUBMIT</button>
                        <button class="btn btn-danger" style="width: 100px;" onclick="clearInput()">CLEAR</button>
                    </div>
                </form>
                <div class="form-group mt-4">
                    <label for="messageTextarea">MESSAGES:</label>
                    <textarea class="form-control" id="messageTextarea" rows="12" readonly></textarea>
                </div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function mesasge() {
            const messageInput = document.getElementById('messageInput').value;
            const messageDisplay = document.getElementById('messageTextarea');
            if (messageInput.trim() !== "") {
                messageDisplay.value += messageInput + "\n";
                document.getElementById('messageInput').value = '';
                messageDisplay.classList.add('animate__animated', 'animate__fadeIn');
                setTimeout(() => {
                    messageDisplay.classList.remove('animate__animated', 'animate__fadeIn');
                }, 1000);
            }
        }

        function clearInput() {
            document.getElementById('messageInput').value = '';
            document.getElementById('messageInput').classList.add('animate__animated', 'animate__fadeOut');
            setTimeout(() => {
                document.getElementById('messageInput').classList.remove('animate__animated', 'animate__fadeOut');
            }, 500);
        }
    </script>
</body>

</html>